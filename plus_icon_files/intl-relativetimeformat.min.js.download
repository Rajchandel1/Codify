!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).IntlRelativeTimeFormat={})}(this,function(e){"use strict";function T(e){var t=Intl.getCanonicalLocales;return"function"==typeof t?t(e):Intl.NumberFormat.supportedLocalesOf(e||"")}function w(e,t,r){if(void 0===r&&(r=Error),!e)throw new r(t)}function c(e){var m=function(u){return function(e,t){for(var r={locale:""},n=0,o=t;n<o.length;n++){var a=o[n],i=a.replace(f,""),l=s(e,i);if(l)return r.locale=l,a!==i&&(r.extension=a.slice(i.length+1,a.length)),r}return r.locale=u(),r}}(e),g=function(u){return function(e,t){for(var r={locale:""},n=0,o=t;n<o.length;n++){var a=o[n],i=a.replace(f,""),l=s(e,i);if(l)return r.locale=l,a!==i&&(r.extension=a.slice(i.length+1,a.length)),r}return r.locale=u(),r}}(e);return function(e,t,r,n,o){for(var a,i=(a="lookup"===r.localeMatcher?m(e,t):g(e,t)).locale,l={locale:"",dataLocale:i},u="-u",f=0,c=n;f<c.length;f++){var s=c[f],_=o[i];w("object"==typeof _&&null!==_,"locale data "+s+" must be an object");var y=_[s];w(Array.isArray(y),"keyLocaleData must be an array");var p=y[0];w("string"==typeof p||null===p,"value must be string or null");var v="";if(a.extension){var h=L(a.extension,s);void 0!==h&&(""!==h?~y.indexOf(h)&&(v="-"+s+"-"+(p=h)):~h.indexOf("true")&&(p="true",v="-"+s))}if(s in r){var d=r[s];w("string"==typeof d||null==d,"optionsValue must be String, Undefined or Null"),~y.indexOf(d)&&d!==p&&(p=d,v="")}l[s]=p,u+=v}if(2<u.length){var b=i.indexOf("-x-");if(-1===b)i+=u;else i=i.slice(0,b)+u+i.slice(b,i.length);i=T(i)[0]}return l.locale=i,l}}function L(e,t){w(2===t.length,"key must have 2 elements");var r=e.length,n="-"+t+"-",o=e.indexOf(n);if(-1!==o){for(var a=o+4,i=a,l=a,u=!1;!u;){var f=e.indexOf("-",l);2===(-1===f?r-l:f-l)?u=!0:-1===f?(i=r,u=!0):l=(i=f)+1}return e.slice(a,i)}if(n="-"+t,-1!==(o=e.indexOf(n))&&o+3===r)return""}var f=/-u(?:-[0-9a-z]{2,8})+/gi;function s(e,t){for(var r=t;;){if(~e.indexOf(r))return r;var n=r.lastIndexOf("-");if(!~n)return;2<=n&&"-"===r[n-2]&&(n-=2),r=r.slice(0,n)}}function n(e,t){for(var r=[],n=0,o=t;n<o.length;n++){var a=s(e,o[n].replace(f,""));a&&r.push(a)}return r}var o,t=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function _(e){if(null==e)throw new TypeError("undefined/null cannot be converted to object");return Object(e)}function y(e,t,r,n,o){var a=e[t];if(void 0===a)return o;if("boolean"!==r&&"string"!==r)throw new TypeError("invalid type");if("boolean"===r&&(a=Boolean(a)),"string"===r&&(a=String(a)),void 0!==n&&!n.filter(function(e){return e==a}).length)throw new RangeError(a+" in not within "+n);return a}var r;r=Error,t(a,r);function a(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="MISSING_LOCALE_DATA",e}function p(e,t,r,n){e.get(t)||e.set(t,Object.create(null)),e.get(t)[r]=n}function v(e,t,r){var n=e.get(t);if(!n)throw new TypeError("PluralRules has not been initialized");return n[r]}var l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},h=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},u=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};var d=/[a-z0-9]{3,8}(-[a-z0-9]{3,8})*/gi;function b(e){return e+""}function m(e,t,r,n){if(w("number"==typeof r,"value must be number, instead got "+typeof r,TypeError),w("string"==typeof n,"unit must be number, instead got "+typeof r,TypeError),isNaN(r)||r===1/0||r===-1/0)throw new RangeError("Invalid value "+r);var o=function(e){if(w("string"==typeof e,"unit must be a string, instead got "+typeof e,TypeError),"seconds"===e)return"second";if("minutes"===e)return"minute";if("hours"===e)return"hour";if("days"===e)return"day";if("weeks"===e)return"week";if("months"===e)return"month";if("quarters"===e)return"quarter";if("years"===e)return"year";if("second"!==e&&"minute"!==e&&"hour"!==e&&"day"!==e&&"week"!==e&&"month"!==e&&"quarter"!==e&&"year"!==e)throw new RangeError("Invalid unit "+e);return e}(n),a=v(e,t,"fields"),i=v(e,t,"style"),l=o;"short"===i?l=n+"-short":"narrow"===i&&(l=n+"-narrow"),l in a||(l=n);var u=a[l];if("auto"===v(e,t,"numeric")&&b(r)in u)return[{type:"literal",value:u[b(r)]}];var f="future";(function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,-0)||r<0)&&(f="past");var c=u[f],s=v(e,t,"pluralRules"),_=v(e,t,"numberFormat"),y="function"==typeof _.formatToParts?_.formatToParts(Math.abs(r)):[{type:"literal",value:_.format(Math.abs(r)),unit:n}];return function(e,t,r){for(var n,o,a=[],i=e.indexOf("{"),l=e.length,u=0,f=0;-1<i&&i<l;){w(-1!==(u=e.indexOf("}",i)),"} not found in "+e),f<i&&a.push({type:"literal",value:e.substring(f,i)}),w("0"===e.substring(i+1,u),"Malformed pattern "+e);try{for(var c=(n=void 0,h(r)),s=c.next();!s.done;s=c.next()){var _=s.value;a.push({type:_.type,value:_.value,unit:t})}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}f=u,i=e.indexOf("{",f)}return f<l&&a.push({type:"literal",value:e.substring(f+1)}),a}(c[s.select(r)],o,y)}var g=(O.prototype.format=function(e,t){if("object"!=typeof this)throw new TypeError("format was called on a non-object");if(!v(O.__INTERNAL_SLOT_MAP__,this,"initializedRelativeTimeFormat"))throw new TypeError("format was called on a invalid context");return m(O.__INTERNAL_SLOT_MAP__,this,Number(e),b(t)).map(function(e){return e.value}).join("")},O.prototype.formatToParts=function(e,t){if("object"!=typeof this)throw new TypeError("formatToParts was called on a non-object");if(!v(O.__INTERNAL_SLOT_MAP__,this,"initializedRelativeTimeFormat"))throw new TypeError("formatToParts was called on a invalid context");return m(O.__INTERNAL_SLOT_MAP__,this,Number(e),b(t))},O.prototype.resolvedOptions=function(){if("object"!=typeof this)throw new TypeError("resolvedOptions was called on a non-object");if(!v(O.__INTERNAL_SLOT_MAP__,this,"initializedRelativeTimeFormat"))throw new TypeError("resolvedOptions was called on a invalid context");return{locale:v(O.__INTERNAL_SLOT_MAP__,this,"locale"),style:v(O.__INTERNAL_SLOT_MAP__,this,"style"),numeric:v(O.__INTERNAL_SLOT_MAP__,this,"numeric"),numberingSystem:v(O.__INTERNAL_SLOT_MAP__,this,"numberingSystem")}},O.supportedLocalesOf=function(e,t){return function(e,t,r){return void 0!==r&&y(r=_(r),"localeMatcher","string",["lookup","best fit"],"best fit"),n(e,t)}(O.availableLocales,T(e),t)},O.__addLocaleData=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];function o(t){Object.keys(u(t.availableLocales,Object.keys(t.aliases),Object.keys(t.parentLocales)).reduce(function(e,t){return e[t]=!0,e},{})).forEach(function(e){try{O.localeData[e]=function(e,t){var r=function(e,t,r){var n=[e];t[e]&&(e=t[e],n.push(e));var o=r[e];o&&n.push(o);for(var a=e.split("-"),i=a.length;1<i;i--)n.push(a.slice(0,i-1).join("-"));return n}(e,t.aliases,t.parentLocales),n=r.map(function(e){return t.data[e]}).filter(Boolean);if(!n.length)throw new Error('Missing locale data for "'+e+'", lookup hierarchy: '+r.join(", "));return n.reverse(),n.reduce(function(e,t){return l(l({},e),t)},{nu:[]})}(e,t)}catch(e){}})}try{for(var a=h(r),i=a.next();!i.done;i=a.next())o(i.value)}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}O.availableLocales=Object.keys(O.localeData),O.__defaultLocale||(O.__defaultLocale=O.availableLocales[0])},O.getDefaultLocale=function(){return O.__defaultLocale},O.localeData={},O.availableLocales=[],O.__defaultLocale="en",O.relevantExtensionKeys=["nu"],O.polyfilled=!0,O.__INTERNAL_SLOT_MAP__=new WeakMap,O);function O(e,t){if(!(this&&this instanceof O?this.constructor:void 0))throw new TypeError("Intl.RelativeTimeFormat must be called with 'new'");p(O.__INTERNAL_SLOT_MAP__,this,"initializedRelativeTimeFormat",!0);var r=T(e),n=Object.create(null),o=void 0===t?Object.create(null):_(t),a=y(o,"localeMatcher","string",["best fit","lookup"],"best fit");n.localeMatcher=a;var i=y(o,"numberingSystem","string",void 0,void 0);if(void 0!==i&&!d.test(i))throw new RangeError("Invalid numbering system "+i);n.nu=i;var l=c(O.getDefaultLocale)(O.availableLocales,r,n,O.relevantExtensionKeys,O.localeData),u=l.locale,f=l.nu;p(O.__INTERNAL_SLOT_MAP__,this,"locale",u),p(O.__INTERNAL_SLOT_MAP__,this,"style",y(o,"style","string",["long","narrow","short"],"long")),p(O.__INTERNAL_SLOT_MAP__,this,"numeric",y(o,"numeric","string",["always","auto"],"always")),p(O.__INTERNAL_SLOT_MAP__,this,"fields",O.localeData[u]),p(O.__INTERNAL_SLOT_MAP__,this,"numberFormat",new Intl.NumberFormat(e)),p(O.__INTERNAL_SLOT_MAP__,this,"pluralRules",new Intl.PluralRules(e)),p(O.__INTERNAL_SLOT_MAP__,this,"numberingSystem",f)}try{"undefined"!=typeof Symbol&&Object.defineProperty(g.prototype,Symbol.toStringTag,{value:"Intl.RelativeTimeFormat",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype.constructor,"length",{value:0,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(g.supportedLocalesOf,"length",{value:1,writable:!1,enumerable:!1,configurable:!0})}catch(e){}e.default=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=intl-relativetimeformat.min.js.map
